## js/classes.js

### class Sprite

這個程式定義了一個名為 Sprite 的類別，該類別用於建立遊戲中的精靈物件。以下是該類別的原理說明：

1. constructor: 這個方法在建立 Sprite 物件時被呼叫，並接受一個物件作為參數，該物件包含了精靈的各種屬性設定，例如位置、圖片路徑、縮放比例等等。在 constructor 中，所有的屬性都被初始化並儲存在物件實例的屬性中。

2. draw: 這個方法用於將精靈物件畫在畫布上。它使用了 Canvas 的 drawImage 方法，並傳遞了適當的參數，包括要繪製的圖像、繪製的位置和尺寸等。根據精靈的屬性設定，它會選擇適當的圖像區域來繪製，並進行必要的縮放。

3. animateFrames: 這個方法用於控制精靈的動畫效果。它追蹤已經過的幀數(framesElapsed)，並根據設定的幀間隔(framesHold)來決定是否更新當前的幀(framesCurrent)。如果已經到達最後一個幀，則將當前幀重設為第一個幀。

4. update: 這個方法用於更新精靈物件。它首先呼叫 draw 方法將精靈繪製到畫布上，然後呼叫 animateFrames 方法更新精靈的動畫狀態。

總結來說，這個 Sprite 類別定義了一個可在遊戲中使用的可繪製和動畫的精靈物件。它使用 Canvas 的 drawImage 方法將指定的圖像區域繪製到畫布上，並通過追蹤幀數來控制精靈的動畫效果。開發者可以使用這個類別來創建並管理遊戲中的精靈物件。

### class Fighter

這個程式定義了一個 Fighter 物件，它是繼承自 Sprite 類別的子類別。Fighter 物件在 Sprite 的基礎上擴展了一些屬性和方法，以下是該物件的原理說明：

constructor: 這個方法在建立 Fighter 物件時被呼叫，並接受一個物件作為參數，該物件包含了 Fighter 的各種屬性設定，包括位置、速度、顏色、圖片路徑等等。在 constructor 中，首先呼叫父類別 Sprite 的 constructor 方法，並傳遞必要的參數來初始化繼承的屬性。然後，初始化 Fighter 特有的屬性，例如速度、攻擊框設定、血量等等。最後，將精靈動畫的圖像預先載入到記憶體中。

update: 這個方法用於更新 Fighter 物件。它首先呼叫父類別 Sprite 的 draw 方法將精靈繪製到畫布上，然後根據 Fighter 物件的狀態進行相應的更新操作。例如，如果 Fighter 已經死亡，則停止進一步的動畫並使其墜落至地面。如果 Fighter 還活著，則根據速度和重力的影響更新位置，並更新攻擊框的位置。

attack: 這個方法用於觸發 Fighter 的攻擊動作。它將切換到攻擊動畫的精靈圖像，並設置 isAttacking 屬性為 true。

takeHit: 這個方法用於 Fighter 受到攻擊時的處理。它會減少 Fighter 的血量，並根據剩餘血量切換到受擊動畫的精靈圖像。

switchSprite: 這個方法用於切換 Fighter 的精靈圖像。根據傳入的參數 sprite，它會根據不同的情況來設定精靈的圖像、最大幀數和當前幀數。它還處理特殊情況，例如當攻擊動畫或受擊動畫正在播放時，不會切換到其他圖像。

總結來說，Fighter 物件是 Sprite 類別的擴展，代表了遊戲中的戰鬥者角色。它具有繪製、更新和動畫控制的功能，並添加了與戰鬥相關的方法和屬性。

Fighter 物件擁有以下特點：

繼承：Fighter 物件繼承了 Sprite 類別的屬性和方法，包括圖像處理、繪製和動畫。

速度和位置：Fighter 物件具有速度和位置屬性，用於控制戰鬥者的移動。在 update 方法中，根據速度和重力的影響來更新位置。

攻擊框：Fighter 物件具有攻擊框的屬性，用於確定戰鬥者攻擊時的區域。在 update 方法中，根據戰鬥者的位置和攻擊框的偏移量來更新攻擊框的位置。

動畫控制：Fighter 物件具有控制動畫的方法，例如 attack、takeHit 和 switchSprite。這些方法根據戰鬥者的狀態切換到不同的精靈圖像，並根據需要更新幀數。

血量和死亡：Fighter 物件具有血量屬性，並可以根據受到的傷害來減少血量。如果血量低於或等於零，則將戰鬥者設置為死亡狀態，並觸發相應的動畫。

Fighter 物件可以在遊戲中用於控制和呈現戰鬥者角色的行為和外觀。開發者可以根據遊戲需求，使用 Fighter 物件的方法和屬性來實現遊戲中的戰鬥場景和角色互動。